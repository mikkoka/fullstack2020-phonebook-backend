(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t(2),a=t.n(c),u=t(15),i=t.n(u),o=t(6),d=t(3),l=function(e){var n=e.addNumber,t=e.newName,c=e.newNumber,a=e.handleNameChange,u=e.handleNumberChange;return Object(r.jsxs)("form",{onSubmit:n,children:[Object(r.jsxs)("div",{children:["name: ",Object(r.jsx)("input",{value:t,onChange:a})]}),Object(r.jsxs)("div",{children:["number: ",Object(r.jsx)("input",{value:0===c?"":c,onChange:u})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",children:"add"})})]})},s=t(4),b=t.n(s),h="/api/persons",j={getAll:function(){return b.a.get(h).then((function(e){return e.data}))},create:function(e){return b.a.post(h,e).then((function(e){return e.data}))},deletePerson:function(e){return b.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},updatePerson:function(e,n){return b.a.put("".concat(h,"/").concat(n),e).then((function(e){return e.data}))}},f=(t(38),function(e){var n=e.addNumber,t=e.nameFilter,c=e.handleFilterChange;return Object(r.jsx)("form",{onSubmit:n,children:Object(r.jsxs)("div",{children:["filter shown with: ",Object(r.jsx)("input",{value:t,onChange:c})]})})}),m=function(e){var n=e.filterShownNumbers,t=e.persons,c=e.handleDeleteClickOf;return Object(r.jsx)("ul",{children:t.filter(n).map((function(e){return Object(r.jsxs)("li",{children:[e.name," ",e.number," ",Object(r.jsx)("button",{onClick:function(){return c(e.id)},children:"delete"})]},e.id)}))})},O=function(e){var n=e.message,t=e.notificationStyle;return null===n?null:Object(r.jsx)("div",{style:t,className:"notification",children:n})},p=function(){var e=Object(c.useState)(""),n=Object(d.a)(e,2),t=n[0],a=n[1],u=Object(c.useState)(0),i=Object(d.a)(u,2),s=i[0],b=i[1],h=Object(c.useState)(""),p=Object(d.a)(h,2),g=p[0],x=p[1],v=Object(c.useState)([]),S=Object(d.a)(v,2),y=S[0],N=S[1],w=Object(c.useState)(null),C=Object(d.a)(w,2),k=C[0],P=C[1],F=Object(c.useState)({}),B=Object(d.a)(F,2),D=B[0],E=B[1],z=function(e,n){E(n),P(e),setTimeout((function(){P(null)}),5e3)},A={color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},J={color:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10};Object(c.useEffect)((function(){j.getAll().then((function(e){return N(e)}))}),[]);var L=function(e){e.preventDefault();var n={name:t,number:s},r=y.find((function(e){return e.name===t}));if("undefined"!==typeof r){if(window.confirm("".concat(t," is already in the phonebook. Update phonenumber?"))){var c=r.id,u=Object(o.a)(Object(o.a)({},r),{},{number:s});j.updatePerson(n,c).then(z("".concat(n.name," succesfully updated!"),A)).catch((function(e){z("Person ".concat(n.name," has already been removed"),J)})),N(y.map((function(e){return e.id!==u.id?e:u})))}}else j.create(n).then((function(e){return N(y.concat(e))})).then(z("".concat(n.name," succesfully added!"),A)).catch((function(e){return z(e.response.data.join("\n"),J)}));a(""),b("")};return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Phonebook"}),Object(r.jsx)(O,{message:k,notificationStyle:D}),Object(r.jsx)(f,{addNumber:L,nameFilter:g,handleFilterChange:function(e){return x(e.target.value)}}),Object(r.jsx)("h2",{children:"add a new"}),Object(r.jsx)(l,{addNumber:L,newName:t,newNumber:s,handleNameChange:function(e){return a(e.target.value)},handleNumberChange:function(e){return b(e.target.value)}}),Object(r.jsx)("h2",{children:"Numbers"}),Object(r.jsx)(m,{filterShownNumbers:function(e){return e.name.toLowerCase().startsWith(g.toLowerCase())},persons:y,handleDeleteClickOf:function(e){j.deletePerson(e).then(z("Entry ".concat(e," succesfully deleted."),A)),N(y.filter((function(n){return n.id!==e})))}})]})};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(p,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.72c36909.chunk.js.map